<html>
  <head>
    <!-- Bootstrap core CSS     -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.6/cerulean/bootstrap.min.css" rel="stylesheet" />

    <style>
      .grid h1 {
        text-align: center;
        vertical-align: center;
        line-height: 150px; 
      }
      .square {
        border: 1px solid #2481a7;
        width: 100%;
        height: 23%;
        background-color: #60b7db;
        border-radius: 25px;
      }
      .square_blanc {
        width: 100%;
        height: 23%;
        border-radius: 25px;
      }
    .nopadding {
       padding: 0 !important;
       margin: 0 !important;
    }
    @media (min-width: 100px) and (max-width: 980px) {
        .span3 {
          width:41%;
        }
        .span3:nth-child(3) {
          margin-left:0;
        }
      }

    </style>
  </head>

<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/move.js/0.5.0/move.min.js" type="text/javascript"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.js"></script>
  <div class="container" style="max-height:600px;">
  <div class="row">
    <div class="grid">
      <div class="col-sm-3 nopadding">    
        <div id="sqr1" class="square"></div>
        </div>
        <div class="col-sm-3 nopadding">
        <div id="sqr2" class="square"></div>
      </div>
      <div class="col-sm-3 nopadding">
        <div id="sqr3" class="square"></div>
        </div>
        <div class="col-sm-3 nopadding">
        <div id="sqr4" class="square"></div>
        </div>

        <div class="col-sm-3 nopadding"> 
        <div id="sqr5" class="square"></div>
        </div>
        <div class="col-sm-3 nopadding">
        <div id="sqr6" class="square"></div>
      </div>
      <div class="col-sm-3 nopadding">
        <div id="sqr7" class="square"></div>
        </div>
        <div class="col-sm-3 nopadding">
        <div id="sqr8" class="square"></div>
        </div>

        <div class="col-sm-3 nopadding"> 
        <div id="sqr9" class="square"></div>
        </div>
        <div class="col-sm-3 nopadding">
        <div id="sqr10" class="square"></div>
      </div>
      <div class="col-sm-3 nopadding">
        <div id="sqr11" class="square"></div>
        </div>
        <div class="col-sm-3 nopadding">
        <div id="sqr12" class="square"></div>
        </div>

        <div class="col-sm-3 nopadding"> 
        <div id="sqr13" class="square"></div>
        </div>
        <div class="col-sm-3 nopadding">
        <div id="sqr14" class="square"></div>
      </div>
      <div class="col-sm-3 nopadding">
        <div id="sqr15" class="square"></div>
        </div>
        <div class="col-sm-3 nopadding">
        <div id="sqr16" class="square"></div>
        </div>
        <div class="btn btn-succes col-sm-12 ">
          <button class="btn btn-success btn-lg btn-round"> Solve </button>
        </div>
      </div>
    </div>
    <div class="container"> 

    <script>
      var height = document.getElementById("sqr12").offsetHeight
      console.log(height);
      var puzzle = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0];
      var puzzle2;
      $.ajax({
        url: '/puzzle/newShuffled?n=4',
        success: function(data){
            console.log(data);
            puzzle2 = JSON.parse(JSON.stringify(data));
            fillPuzzle(puzzle2);
            //process the JSON data etc
        }
      })

      console.log(puzzle2);

      function fillPuzzle(puzzleArr) {
        var arrayLength = puzzleArr.length;
        for (var i = 1; i <= arrayLength; i++) {
            if ( puzzleArr[i-1] == 0 ) {
              document.getElementById("sqr"+i).className = "square_blanc";
            } else {
              document.getElementById("sqr"+i).innerHTML = "<h1>"+puzzleArr[i-1]+"</h1>";
            }
            
        }   
      }

      ;
      
      
  
        /*move('#sqr12')
        .y(height)
        .ease('ease-in-quart')        
        .end();
      move('#sqr16')
        .y(-height)
        .ease('out')        
        .end();
      */
     
      addEventListener('keydown', function(e){
      height = document.getElementById("sqr1").offsetHeight
      console.log(height)
      width = document.getElementById("sqr1").offsetWidth
      console.log(width)
        switch (e.keyCode) {
          // down
          case 40:
            move('#sqr12')
            .y(height)
            .ease('snap')        
            .end();
          move('#sqr16')
            .y(-height)
            .ease('snap')        
            .end();
            break;
          // left
          case 38:
            move('#sqr16')
            .y(0)
            .ease('snap')        
            .end();
          move('#sqr12')
            .y(0)
            .ease('snap')        
            .end();
            break;

          case 39:
            move('#sqr15')
            .x(width)
            .ease('snap')        
            .end();
            move('#sqr16  ')
            .x(-width)
            .ease('snap')        
            .end();
            break;
           
        }
      }, false);
      
      
      
    </script> 
  
</body>
</html>